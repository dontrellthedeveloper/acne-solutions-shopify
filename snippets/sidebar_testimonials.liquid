{% comment %}
Renders testimonials carousel in sidebar
  Accepts:
    - block_title: <String> Block title
    - author1: <String> First author's name
    - content1: <String> First testimonial content
    - img1: <Image> First author's picture
    - time1: <Time> First testimonial's published date
    - author2: <String> Second author's name
    - content2: <String> Second testimonial content
    - img2: <Image> Second author's picture
    - time2: <Time> Second testimonial's published date
    - auto_speed: <Number> Carousel autoplay speed, default is 7 when no value is set

  Usage:
    {% render 'sidebar_testimonials', block_title: section.settings.testimonials_title, author1: section.settings.testimonial_author1,
        content1: section.settings.testimonial_content1, img1: section.settings.testimonial_img1, time1: section.settings.testimonial_time1,
        author2: section.settings.testimonial_author2, content2: section.settings.testimonial_content2, img2: section.settings.testimonial_img2,
        time2: section.settings.testimonial_time2 %}
{% endcomment %}

{%- if block_title != blank -%}
  <h3 class="block-title">{{ block_title }}</h3>
{%- endif -%}
<div class="sidebar-carousel">
  <div class="items-carousel"
    data-auto="{{ auto_speed | default: 7 }}"
    data-dots="false"
    data-nav="true"
    data-wraparound="true">
    <div class="slide-item slide-group">
      <div class="testimonial-content">
        <blockquote>{{ content1 | newline_to_br }}</blockquote>
      </div><!-- .testimonial-content -->
      <div class="testimonial-img">
        {%- if img1 == blank -%}
          {% render 'icon-avatar' %}
        {%- else -%}
          <img class="lazyload" data-src="{{ img1 | img_url: '65x' }}" />
        {%- endif -%}
        <div class="angled-line"></div>
      </div><!-- .testimonial-img -->
      <div class="testimonial-details">
        <span class="name">{{ author1 }}</span>
        <time>{{ time1 }}</time>
      </div><!-- .testimonial-details -->
    </div><!-- .slide-item.slide-group -->

    <div class="slide-item slide-group">
      <div class="testimonial-content">
        <blockquote>{{ content2 | newline_to_br }}</blockquote>
      </div><!-- .testimonial-content -->
      <div class="testimonial-img">
        {%- if img2 == blank -%}
          {% render 'icon-avatar' %}
        {%- else -%}
          <img class="lazyload" data-src="{{ img2 | img_url: '65x' }}" />
        {%- endif -%}
        <div class="angled-line"></div>
      </div><!-- .testimonial-img -->
      <div class="testimonial-details">
        <span class="name">{{ author2 }}</span>
        <time>{{ time2 }}</time>
      </div><!-- .testimonial-details -->
    </div><!-- .slide-item -->
  </div><!-- .slide-item.slide-group -->
</div>
